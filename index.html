<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  
  <title>Marketplace</title>
  
  <!-- ====== Styles ====== -->
  <link rel="stylesheet" href="marketplace.css" />
</head>

<body>
  <!-- DEVELOPER MODE (Only use this when using dev branches in live page, main branch should only be safe build) -->
  <!-- <div class="warning">
    ⚠️ PREVIEW / MAINTENANCE BUILD · Please contact dev team to switch back to latest safe build
  </div> -->

  <!-- ====== Main Menu ====== -->
  <main class="app">
    <header>
      <h1 class="title">Marketplace</h1>
      <p class="subtitle">Scroll down to explore all mini-games. Tap a card to start or continue.</p>
    </header>

    <!-- ====== Search Bar ====== -->
    <div class="search-container">
      <div class="search-box">
        <!-- Magnifyglass Icon -->
        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        
        <!-- User Input -->
        <input type="text" id="game-search" placeholder="Search games..." autocomplete="off">
        
        <!-- Clear Button -->
        <div id="search-clear" class="search-clear" aria-label="Clear search">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </div>
      </div>
    </div>

    <!-- No Matching Results to Search -->
    <div id="no-results" class="no-results" style="display: none;"></div>

    <!-- ====== Card Zone ====== -->
    <div class="feed">
      <!-- Game cards will be generated by js -->
      <div id="col-left"></div>
      <div id="col-right"></div>
    </div>
  </main>

  <!-- ====== Leaderboard Overlay ====== -->
  <div id="lb-overlay" class="overlay hidden" aria-hidden="true">
    <div class="overlay-panel lb-panel">

      <!-- Header -->
      <header class="overlay-header lb-header">
        <h2 id="lb-title">LEADERBOARD</h2>
      </header>

      <!-- Content -->
      <div id="lb-content" class="overlay-content lb-content">
        <!-- ===== Current User ===== -->
        <div class="lb-current-user" id="lb-current-user">
          <!-- JS inject current user here -->
        </div>

        <!-- ===== Top 3 Podium ===== -->
        <div class="lb-podium" id="lb-podium">
          <!-- JS inject top 3 here -->
        </div>

        <!-- ===== Rank List 4–10 ===== -->
        <ul class="lb-list" id="lb-list">
          <!-- JS inject rank 4–10 here -->
        </ul>

        <!-- ===== Player Overflow (if rank > 10) ===== -->
        <div class="lb-overflow hidden" id="lb-overflow">
          <!-- JS inject player row here -->
        </div>

      </div>

      <!-- Footer -->
      <footer class="overlay-footer lb-footer">
        <button id="lb-close" class="overlay-btn">Close</button>
        <button id="lb-play" class="overlay-btn primary">Play</button>
      </footer>

    </div>
  </div>

  <!-- ====== Scripts ====== -->
  <script src="scripts/games.js"></script>
  <script src="scripts/leaderboardData.js"></script>
  <script src="scripts/marketplace.js"></script>

  <!-- Only display mobile preview when using desktop browser -->
  <script>
    if (window.innerWidth >= 768) {
      window.location.href = "mobile-preview.html";
    }
  </script>
</body>
</html>
